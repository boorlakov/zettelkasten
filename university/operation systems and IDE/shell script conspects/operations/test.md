# `test`

[<- Назад (конспекты по осям)](https://github.com/boorlakov/zettelkasten/blob/main/university/operation%20systems%20and%20IDE/README.md)

## About

Оператор `test` проверяет выполнение условия и возвращает `истина` (`0`) или `ложь` (`1`)

### **Общий** формат оператора

```bash
test условие
```

или

```bash
[ условие ]
```

**Замечание**: вторая форма записи оператора предусматривает **наличие обязательных пробелов** между квадратными скобками и выражением условия. Если строка условия в команде `test` пустая, то возвращается значение `1`.

## Возможны условия нескольких видов

### 1. Проверка файлов или переменных

Формат команды: 

```bash
test  ключ  имя_файла | имя_переменной
```

Ключ команды задает режим проверки и может принимать следующие значения:

|  **Ключ** | **Значение** |
| --- | --- |
| **`-f`** | Указанный файл является обычным файлом |
| **`-d`** | указанный файл является обычным каталогом |
| **`-c`** | указанный файл является символьным устройством |
| **`-r`** | указанный файл доступен для чтения |
| **`-w`** | указанный файл доступен для записи |
| **`-s`** | указанный файл не является пустым |
| **`-n`** | указанная переменная имеет значение (не пустая) |
| **`z`** | указанная переменная не имеет значения|

Примеры использования команды:

```bash
test –f /usr/user1/file_1
```

- возвращает `0`, если `/usr/user1/file_1` является обычным файлом

```bash
test –w /usr/user1/file_1
```

- возвращает `0`, если файл `/usr/user1/file_1` доступен для записи

```bash
test –n $ALFA
```

- возвращает `0`, если переменная `ALFA` имеет значение.

### 2. Сравнение строк

Формат команды: 

```bash
test  строка1  отношение  строка2
```

Операции отношения строк: `=` (равно) или `!=` (не равно)

Примеры команд:

```bash
test $A = $B
```
- возвращает `0`, если значение переменной `A` равно значению переменной `B`

```bash
test $A != $B
```

- возвращает `0`, если значение переменной `A` не равно значению переменной `B`

**Замечание**: операция отношения **обязательно** с двух сторон окружается **пробелами**.

### 3. Сравнение целых чисел

Формат команды

```bash
test  число1  отношение  число2
```

Операции отношения чисел:

|  **Операция** | **Значение** |
| --- | --- |
| **`-eq`** | равно |
| **`-ne`** | не равно |
| **`-gt`** | больше |
| **`-ge`** | больше или равно |
| **`-lt`** | меньше |
| **`-le`** | меньше или равно |
